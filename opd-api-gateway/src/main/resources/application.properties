spring.application.name=opd-api-gateway

server.port=8080

# ----------------------------
# Eureka Client Configuration
# ----------------------------
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# ----------------------------
# Spring Cloud Gateway: Discovery + Routing
# ----------------------------
# Enable automatic routing via Eureka service names (optional, but you can keep it)
spring.cloud.gateway.discovery.locator.enabled=false
# ?? We set this to FALSE because we are defining MANUAL routes below.
#    Keeping it 'true' alongside manual routes can cause ambiguity or conflicts.

# ----------------------------
# Manual Route Definitions (Recommended for clarity)
# ----------------------------

# Auth Service
#spring.cloud.gateway.routes[0].id=opd-auth-service
#spring.cloud.gateway.routes[0].uri=lb://opd-auth-service
#spring.cloud.gateway.routes[0].predicates[0]=Path=/auth/**

# Doctor Service
#spring.cloud.gateway.routes[1].id=opd-doctor-service
#spring.cloud.gateway.routes[1].uri=lb://opd-doctor-service
#spring.cloud.gateway.routes[1].predicates[0]=Path=/doctors/**
#spring.cloud.gateway.routes[1].filters[0]=StripPrefix=1

# Doctor Service Route
spring.cloud.gateway.routes[0].id=opd-doctor-service
spring.cloud.gateway.routes[0].uri=lb://OPD-DOCTOR-SERVICE
spring.cloud.gateway.routes[0].predicates[0]=Path=/doctors/**
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=1

## Appointment Service
#spring.cloud.gateway.routes[2].id=opd-appointment-service
#spring.cloud.gateway.routes[2].uri=lb://opd-appointment-service
#spring.cloud.gateway.routes[2].predicates[0]=Path=/appointments/**
#spring.cloud.gateway.routes[2].filters[0]=StripPrefix=1
#
## Billing Service
#spring.cloud.gateway.routes[3].id=opd-billing-service
#spring.cloud.gateway.routes[3].uri=lb://opd-billing-service
#spring.cloud.gateway.routes[3].predicates[0]=Path=/billing/**
#spring.cloud.gateway.routes[3].filters[0]=StripPrefix=1
#
## Notification Service
#spring.cloud.gateway.routes[4].id=opd-notification-service
#spring.cloud.gateway.routes[4].uri=lb://opd-notification-service
#spring.cloud.gateway.routes[4].predicates[0]=Path=/notifications/**
#spring.cloud.gateway.routes[4].filters[0]=StripPrefix=1

