spring.application.name=opd-api-gateway

server.port=8080

# ----------------------------
# Eureka Client Configuration
# ----------------------------
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true

# ----------------------------
# Actuator Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.endpoint.info.enabled=true
management.info.env.enabled=true

# Application Info for Eureka Dashboard
info.app.name=OPD API Gateway
info.app.description=API Gateway for OPD Hospital System
info.app.version=1.0.0

# ----------------------------
# Spring Cloud Gateway Configuration
# ----------------------------
spring.cloud.gateway.server.webmvc.discovery.locator.enabled=false

# ----------------------------
# Route Definitions
# ----------------------------

# Auth Service Route
spring.cloud.gateway.server.webmvc.routes[0].id=opd-auth-service
spring.cloud.gateway.server.webmvc.routes[0].uri=lb://opd-auth-service
spring.cloud.gateway.server.webmvc.routes[0].predicates[0]=Path=/auth/**
spring.cloud.gateway.server.webmvc.routes[0].filters[0]=StripPrefix=1

# Doctor Service Route
spring.cloud.gateway.server.webmvc.routes[1].id=opd-doctor-service
spring.cloud.gateway.server.webmvc.routes[1].uri=lb://opd-doctor-service
spring.cloud.gateway.server.webmvc.routes[1].predicates[0]=Path=/doctors/**
spring.cloud.gateway.server.webmvc.routes[1].filters[0]=StripPrefix=1

# Appointment Service Route
spring.cloud.gateway.server.webmvc.routes[2].id=opd-appointment-service
spring.cloud.gateway.server.webmvc.routes[2].uri=lb://opd-appointment-service
spring.cloud.gateway.server.webmvc.routes[2].predicates[0]=Path=/appointments/**
spring.cloud.gateway.server.webmvc.routes[2].filters[0]=StripPrefix=1

# Billing Service Route
spring.cloud.gateway.server.webmvc.routes[3].id=opd-billing-service
spring.cloud.gateway.server.webmvc.routes[3].uri=lb://opd-billing-service
spring.cloud.gateway.server.webmvc.routes[3].predicates[0]=Path=/billing/**
spring.cloud.gateway.server.webmvc.routes[3].filters[0]=StripPrefix=1

# Notification Service Route
spring.cloud.gateway.server.webmvc.routes[4].id=opd-notification-service
spring.cloud.gateway.server.webmvc.routes[4].uri=lb://opd-notification-service
spring.cloud.gateway.server.webmvc.routes[4].predicates[0]=Path=/notifications/**
spring.cloud.gateway.server.webmvc.routes[4].filters[0]=StripPrefix=1